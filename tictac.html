<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="kocke">
      <div id="0"></div>
      <div id="1"></div>
      <div id="2"></div>
      <div id="3"></div>
      <div id="4"></div>
      <div id="5"></div>
      <div id="6"></div>
      <div id="7"></div>
      <div id="8"></div>
    </div>
    <script>
      control = 1;
      const gameBoard = (function () {
        const array = [];
        for (i = 0; i < 9; i++) {
          array.push("");
        }
        return { array };
      })();
      const player = function (znak, broj) {
        const marking = () => {
          return znak;
        };
        const increase = () => {
          control = broj;
        };
        return { marking, increase };
      };
      player1 = player("X", 1);
      player2 = player("O", 2);

      const flow = function (niz, pozicija) {
        const position = () => {
          if (control == 1) {
            niz[pozicija] = player1.marking();
            control = 2;
          } else if (control == 2) {
            niz[pozicija] = player2.marking();
            control = 1;
          }
        };
        return { position };
      };
      const divv = document.querySelectorAll("div > div");

      const render = function () {
        for (i = 0; i < 9; i++) {
          divv.forEach((div) => {
            if (div.getAttribute("id") == `${i}`) {
              div.textContent = gameBoard.array[i];
            }
          });
        }
      };
      divv.forEach((div) => {
        div.addEventListener("click", () => {
          flow2 = flow(gameBoard.array, div.getAttribute("id"));
          flow2.position();
          render();
        });
      });
    </script>
  </body>
</html>
